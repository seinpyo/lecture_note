
CREATE TABLE EXAM01(
	DEPNO NUMBER(2),
	DNAME VARCHAR2(14),
	LOC VARCHAR2(14)
)

INSERT INTO EXAM01 (DEPNO, DNAME, LOC) VALUES (10, 'ACCOUNT', 'NEWYORK');
INSERT INTO EXAM01 VALUES(30, 'SALES', 'CHICHAGO');
INSERT INTO EXAM01(DEPNO, DNAME) VALUES (20, 'MARKETING');
INSERT INTO EXAM01 VALUES (40, 'OPERATION', NULL);

SELECT * FROM EXAM01;

INSERT INTO BOOKLIST(NUM, SUBJECT, MAKEYEAR, INPRICE, RENTPRICE, GRADE) 
VALUES (BOOK_SEQ.NEXTVAL, '좀비 아이', 2020, 12000, 2500, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '일곱해의 마지막', 2020, 12150, 2000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '공생 멸종 진화', 2105, 1, 2000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '악의', 2008, 14000, 1500, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '거미여인의 키스', 2000, 12150, 1000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '리버보이', 2020, 12150, 2000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '미루기의 천재들', 2007, 9000, 1000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '자살가게', 2007, 9000, 1000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '향수', 2020, 14800, 3000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '안나라수마나라', 2011, 11500, 1500, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '그리고 아무도 없었다', 2002, 10000, 1000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '침팬지 폴리틱스', 2004, 18000, 1000, 'ALL');
INSERT INTO BOOKLIST VALUES (BOOK_SEQ.NEXTVAL, '철학의 위안', 2014, 15000, 2000, 'ALL');


SELECT * FROM BOOKLIST;

DROP SEQUENCE BOOK_SEQ;
CREATE SEQUENCE BOOK_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE MEMBER_SEQ START WITH 1 INCREMENT BY 1;

INSERT INTO MEMBERLIST 
VALUES (MEMBER_SEQ.NEXTVAL,'추신수','010-1234-4567', '84/07/07',240,'20/10/01','M', 28);
INSERT INTO MEMBERLIST 
VALUES (MEMBER_SEQ.NEXTVAL,'류현진','010-7891-2463', '87/03/25',300,'20/10/01','M', 35);
INSERT INTO MEMBERLIST 
VALUES (MEMBER_SEQ.NEXTVAL,'손흥민','010-7891-2463', '99/03/25',100,'20/10/01','M', 25);
INSERT INTO MEMBERLIST 
VALUES (MEMBER_SEQ.NEXTVAL,'이청용','010-7891-2463', '86/02/04',270,'20/10/01','M', 36);
INSERT INTO MEMBERLIST 
VALUES (MEMBER_SEQ.NEXTVAL,'이영표','010-7891-2463', '82/03/16',140,'20/10/01','M', 31);
INSERT INTO MEMBERLIST 
VALUES (MEMBER_SEQ.NEXTVAL,'최지만','010-2345-7321', '83/04/14',340,'20/10/01','F', 29);


INSERT INTO RENTLIST VALUES ('2021/12/01', RENT_SEQ.NEXTVAL, 14, 3, 100);
INSERT INTO RENTLIST VALUES ('2021/12/01', RENT_SEQ.NEXTVAL, 15, 1, 0);
INSERT INTO RENTLIST VALUES ('2021/12/02', RENT_SEQ.NEXTVAL, 21, 6, 100);
INSERT INTO RENTLIST VALUES ('2021/12/03', RENT_SEQ.NEXTVAL, 22, 7, 200);
INSERT INTO RENTLIST VALUES ('2021/12/04', RENT_SEQ.NEXTVAL, 20, 2, 100);
INSERT INTO RENTLIST VALUES ('2021/12/04', RENT_SEQ.NEXTVAL, 16, 4, 100);
INSERT INTO RENTLIST VALUES ('2021/12/04', RENT_SEQ.NEXTVAL, 17, 5, 100);
INSERT INTO RENTLIST VALUES ('2021/12/05', RENT_SEQ.NEXTVAL, 19, 10, 100);
INSERT INTO RENTLIST VALUES ('2021/12/05', RENT_SEQ.NEXTVAL, 15, 3, 100);
INSERT INTO RENTLIST VALUES ('2021/12/05', RENT_SEQ.NEXTVAL, 18, 8, 200);


SELECT * FROM BOOKLIST;
SELECT * FROM RENTLIST;
SELECT * FROM MEMBERLIST;

UPDATE EXAM01 SET DEPNO=30;
UPDATE EXAM01 SET DEPNO=10 WHERE DNAME='ACCOUNT';
UPDATE EXAM01 SET DEPNO=20 WHERE DNAME='SALES'; 
UPDATE EXAM01 SET DEPNO=30 WHERE DNAME='OPERATION'; 
UPDATE EXAM01 SET DEPNO=40 WHERE DNAME='MARKETING'; 
UPDATE EXAM01 SET LOC='BOSTON' WHERE DEPNO=30; 
UPDATE EXAM01 SET LOC='LA' WHERE DEPNO='40';

SELECT * FROM EXAM01;

UPDATE BOOKLIST SET GRADE=18 WHERE SUBJECT='악의';
UPDATE BOOKLIST SET INPRICE=14000 WHERE SUBJECT LIKE '공%';
UPDATE BOOKLIST SET MAKEYEAR=2015 WHERE SUBJECT LIKE '%화';

SELECT * FROM EMP;
UPDATE EMP SET SAL=SAL*1.1;
UPDATE EMP SET SAL=SAL*0.9 WHERE SAL >= 3000;
UPDATE EMP SET SAL=SAL+2000 WHERE HIREDATE<='2001/12/31';
UPDATE EMP SET JOB='MANAGER' WHERE ENAME LIKE 'J%';
UPDATE MEMBERLIST SET BPOINT=BPOINT*100 WHERE BPOINT>=200;
UPDATE RENTLIST SET DISCOUNT=90 WHERE DISCOUNT>=100;

SELECT * FROM EMP;

UPDATE BOOKLIST SET RENTPRICE=2000*1.1, SUBJECT = SUBJECT || ' 20+' WHERE GRADE = '18';

UPDATE BOOKLIST SET SUBJECT='악의' WHERE SUBJECT LIKE '%악의%';

UPDATE BOOKLIST SET GRADE='20' WHERE GRADE='18'; 

ALTER TABLE BOOKLIST MODIFY SUBJECT VARCHAR2(100);

DELETE FROM BOOKLIST WHERE SUBJECT='좀비';

ALTER TABLE RENTLIST DROP CONSTRAINT RENT_FK1;
ALTER TABLE RENTLIST ADD CONSTRAINT RENT_FK1 FOREIGN KEY(BOOKNUM)
REFERENCES BOOKLIST(NUM) ON DELETE CASCADE;

ALTER TABLE RENTLIST DROP CONSTRAINT RENT_FK2;
ALTER TABLE RENTLIST ADD CONSTRAINT RENT_FK2 FOREIGN KEY(MEMBERNUM) REFERENCES MEMBERLIST(NUM)
ON DELETE CASCADE;

















